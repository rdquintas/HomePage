(function(){var E=window.MQA,D=E.IO.doGetJSON,B=E.IO.doPostJSON,G=E.IO.cacheBust,F=E.IO.doJSONP,C=E.IO.stringifyJSON;var A=function(I,H){this.baseURI=(I||MQNOMINATIMURL)+"nominatim/v1";this.noProxy=H||true};A.CALLBACKS={};E.NominatimIO=A;A.prototype={search:function(K,I,J,M){var H=this.baseURI+"/search?q="+encodeURIComponent(K),L=G();if(I){if(I.format){H+="&format="+I.format}if(I.language){H+="&accept-language  ="+I.language}if(I.viewbox){H+="&viewbox="+I.viewbox.left+","+I.viewbox.top+","+I.viewbox.right+","+I.viewbox.bottom}if(I.polygon){H+="&polygon="+I.polygon}if(I.addressdetails){H+="&addressdetails="+I.addressdetails}if(I.email){H+="&email="+I.email}if(I.limit){H+="&limit  ="+I.limit}if(I.exclude_place_ids){H+="&exclude_place_ids="+I.exclude_place_ids}}L="c"+L.replace(",","");E.NominatimIO.CALLBACKS[L]=function(N){M(N)};H+="&json_callback=MQA.NominatimIO.CALLBACKS."+L;return F(H,J)},reverse:function(O,J,K,N){var I=this.baseURI+"/reverse?",M=G(),L=0,H=0;if(O){if(O.lat&&O.lng){L=O.lat;H=O.lng;I+="lat="+L+"&lon="+H}else{if(O.indexOf(",")){L=O.split(",")[0];H=O.split(",")[1];I+="lat="+L+"&lon="+H}}}else{I+="osm_type="+J.osm_type;I+="&osm_id="+J.osm_id}if(J){if(J.format){I+="&format="+J.format}if(J.language){I+="&accept-language  ="+J.language}if(J.zoom){I+="&zoom="+J.zoom}if(J.addressdetails){I+="&addressdetails="+J.addressdetails}if(J.email){I+="&email="+J.email}}M="c"+M.replace(",","");E.NominatimIO.CALLBACKS[M]=function(P){N(P,L,H)};I+="&json_callback=MQA.NominatimIO.CALLBACKS."+M;return F(I,K)}};E.Loader._moduleLoaded("nominatimio")})();