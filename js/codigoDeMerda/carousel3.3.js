/*! jCarousel - v0.3.1 - 2014-04-26
* http://sorgalla.com/jcarousel
* Copyright (c) 2014 Jan Sorgalla; Licensed MIT */
(function(c){var a=c.jCarousel={};a.version="0.3.1";var b=/^([+\-]=)?(.+)$/;a.parseTarget=function(f){var d=false,e=typeof f!=="object"?b.exec(f):null;if(e){f=parseInt(e[2],10)||0;if(e[1]){d=true;if(e[1]==="-="){f*=-1}}}else{if(typeof f!=="object"){f=parseInt(f,10)||0}}return{target:f,relative:d}};a.detectCarousel=function(d){var e;while(d.length>0){e=d.filter("[data-jcarousel]");if(e.length>0){return e}e=d.find("[data-jcarousel]");if(e.length>0){return e}d=d.parent()}return null};a.base=function(d){return{version:a.version,_options:{},_element:null,_carousel:null,_init:c.noop,_create:c.noop,_destroy:c.noop,_reload:c.noop,create:function(){this._element.attr("data-"+d.toLowerCase(),true).data(d,this);if(false===this._trigger("create")){return this}this._create();this._trigger("createend");return this},destroy:function(){if(false===this._trigger("destroy")){return this}this._destroy();this._trigger("destroyend");this._element.removeData(d).removeAttr("data-"+d.toLowerCase());return this},reload:function(e){if(false===this._trigger("reload")){return this}if(e){this.options(e)}this._reload();this._trigger("reloadend");return this},element:function(){return this._element},options:function(e,f){if(arguments.length===0){return c.extend({},this._options)}if(typeof e==="string"){if(typeof f==="undefined"){return typeof this._options[e]==="undefined"?null:this._options[e]}this._options[e]=f}else{this._options=c.extend({},this._options,e)}return this},carousel:function(){if(!this._carousel){this._carousel=a.detectCarousel(this.options("carousel")||this._element);if(!this._carousel){c.error('Could not detect carousel for plugin "'+d+'"')}}return this._carousel},_trigger:function(g,f,j){var h,e=false;j=[this].concat(j||[]);(f||this._element).each(function(){h=c.Event((d+":"+g).toLowerCase());c(this).trigger(h,j);if(h.isDefaultPrevented()){e=true}});return !e}}};a.plugin=function(f,d){var e=c[f]=function(h,g){this._element=c(h);this.options(g);this._init();this.create()};e.fn=e.prototype=c.extend({},a.base(f),d);c.fn[f]=function(h){var g=Array.prototype.slice.call(arguments,1),j=this;if(typeof h==="string"){this.each(function(){var k=c(this).data(f);if(!k){return c.error("Cannot call methods on "+f+' prior to initialization; attempted to call method "'+h+'"')}if(!c.isFunction(k[h])||h.charAt(0)==="_"){return c.error('No such method "'+h+'" for '+f+" instance")}var l=k[h].apply(k,g);if(l!==k&&typeof l!=="undefined"){j=l;return false}})}else{this.each(function(){var k=c(this).data(f);if(k instanceof e){k.reload(h)}else{new e(this,h)}})}return j};return e}}(jQuery));(function(c,b){var a=function(d){return parseFloat(d)||0};c.jCarousel.plugin("jcarousel",{animating:false,tail:0,inTail:false,resizeTimer:null,lt:null,vertical:false,rtl:false,circular:false,underflow:false,relative:false,_options:{list:function(){return this.element().children().eq(0)},items:function(){return this.list().children()},animation:400,transitions:false,wrap:null,vertical:null,rtl:null,center:false},_list:null,_items:null,_target:null,_first:null,_last:null,_visible:null,_fullyvisible:null,_init:function(){var d=this;this.onWindowResize=function(){if(d.resizeTimer){clearTimeout(d.resizeTimer)}d.resizeTimer=setTimeout(function(){d.reload()},100)};return this},_create:function(){this._reload();c(b).on("resize.jcarousel",this.onWindowResize)},_destroy:function(){c(b).off("resize.jcarousel",this.onWindowResize)},_reload:function(){this.vertical=this.options("vertical");if(this.vertical==null){this.vertical=this.list().height()>this.list().width()}this.rtl=this.options("rtl");if(this.rtl==null){this.rtl=(function(f){if((""+f.attr("dir")).toLowerCase()==="rtl"){return true}var g=false;f.parents("[dir]").each(function(){if((/rtl/i).test(c(this).attr("dir"))){g=true;return false}});return g}(this._element))}this.lt=this.vertical?"top":"left";this.relative=this.list().css("position")==="relative";this._list=null;this._items=null;var e=this._target&&this.index(this._target)>=0?this._target:this.closest();this.circular=this.options("wrap")==="circular";this.underflow=false;var d={left:0,top:0};if(e.length>0){this._prepare(e);this.list().find("[data-jcarousel-clone]").remove();this._items=null;this.underflow=this._fullyvisible.length>=this.items().length;this.circular=this.circular&&!this.underflow;d[this.lt]=this._position(e)+"px"}this.move(d);return this},list:function(){if(this._list===null){var d=this.options("list");this._list=c.isFunction(d)?d.call(this):this._element.find(d)}return this._list},items:function(){if(this._items===null){var d=this.options("items");this._items=(c.isFunction(d)?d.call(this):this.list().find(d)).not("[data-jcarousel-clone]")}return this._items},index:function(d){return this.items().index(d)},closest:function(){var d=this,j=this.list().position()[this.lt],h=c(),e=false,g=this.vertical?"bottom":(this.rtl&&!this.relative?"left":"right"),f;if(this.rtl&&this.relative&&!this.vertical){j+=this.list().width()-this.clipping()}this.items().each(function(){h=c(this);if(e){return false}var k=d.dimension(h);j+=k;if(j>=0){f=k-a(h.css("margin-"+g));if((Math.abs(j)-k+(f/2))<=0){e=true}else{return false}}});return h},target:function(){return this._target},first:function(){return this._first},last:function(){return this._last},visible:function(){return this._visible},fullyvisible:function(){return this._fullyvisible},hasNext:function(){if(false===this._trigger("hasnext")){return true}var e=this.options("wrap"),d=this.items().length-1;return d>=0&&!this.underflow&&((e&&e!=="first")||(this.index(this._last)<d)||(this.tail&&!this.inTail))?true:false},hasPrev:function(){if(false===this._trigger("hasprev")){return true}var d=this.options("wrap");return this.items().length>0&&!this.underflow&&((d&&d!=="last")||(this.index(this._first)>0)||(this.tail&&this.inTail))?true:false},clipping:function(){return this._element["inner"+(this.vertical?"Height":"Width")]()},dimension:function(d){return d["outer"+(this.vertical?"Height":"Width")](true)},scroll:function(n,f,t){if(this.animating){return this}if(false===this._trigger("scroll",null,[n,f])){return this}if(c.isFunction(f)){t=f;f=true}var q=c.jCarousel.parseTarget(n);if(q.relative){var g=this.items().length-1,r=Math.abs(q.target),e=this.options("wrap"),o,l,m,d,u,k,p,h;if(q.target>0){var s=this.index(this._last);if(s>=g&&this.tail){if(!this.inTail){this._scrollTail(f,t)}else{if(e==="both"||e==="last"){this._scroll(0,f,t)}else{if(c.isFunction(t)){t.call(this,false)}}}}else{o=this.index(this._target);if((this.underflow&&o===g&&(e==="circular"||e==="both"||e==="last"))||(!this.underflow&&s===g&&(e==="both"||e==="last"))){this._scroll(0,f,t)}else{m=o+r;if(this.circular&&m>g){h=g;u=this.items().get(-1);while(h++<m){u=this.items().eq(0);k=this._visible.index(u)>=0;if(k){u.after(u.clone(true).attr("data-jcarousel-clone",true))}this.list().append(u);if(!k){p={};p[this.lt]=this.dimension(u);this.moveBy(p)}this._items=null}this._scroll(u,f,t)}else{this._scroll(Math.min(m,g),f,t)}}}}else{if(this.inTail){this._scroll(Math.max((this.index(this._first)-r)+1,0),f,t)}else{l=this.index(this._first);o=this.index(this._target);d=this.underflow?o:l;m=d-r;if(d<=0&&((this.underflow&&e==="circular")||e==="both"||e==="first")){this._scroll(g,f,t)}else{if(this.circular&&m<0){h=m;u=this.items().get(0);while(h++<0){u=this.items().eq(-1);k=this._visible.index(u)>=0;if(k){u.after(u.clone(true).attr("data-jcarousel-clone",true))}this.list().prepend(u);this._items=null;var j=this.dimension(u);p={};p[this.lt]=-j;this.moveBy(p)}this._scroll(u,f,t)}else{this._scroll(Math.max(m,0),f,t)}}}}}else{this._scroll(q.target,f,t)}this._trigger("scrollend");return this},moveBy:function(f,g){var d=this.list().position(),h=1,e=0;if(this.rtl&&!this.vertical){h=-1;if(this.relative){e=this.list().width()-this.clipping()}}if(f.left){f.left=(d.left+e+a(f.left)*h)+"px"}if(f.top){f.top=(d.top+e+a(f.top)*h)+"px"}return this.move(f,g)},move:function(n,d){d=d||{};var h=this.options("transitions"),p=!!h,m=!!h.transforms,o=!!h.transforms3d,f=d.duration||0,l=this.list();if(!p&&f>0){l.animate(n,d);return}var e=d.complete||c.noop,k={};if(p){var j=l.css(["transitionDuration","transitionTimingFunction","transitionProperty"]),g=e;e=function(){c(this).css(j);g.call(this)};k={transitionDuration:(f>0?f/1000:0)+"s",transitionTimingFunction:h.easing||d.easing,transitionProperty:f>0?(function(){if(m||o){return"all"}return n.left?"left":"top"})():"none",transform:"none"}}if(o){k.transform="translate3d("+(n.left||0)+","+(n.top||0)+",0)"}else{if(m){k.transform="translate("+(n.left||0)+","+(n.top||0)+")"}else{c.extend(k,n)}}if(p&&f>0){l.one("transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd",e)}l.css(k);if(f<=0){l.each(function(){e.call(this)})}},_scroll:function(f,d,j){if(this.animating){if(c.isFunction(j)){j.call(this,false)}return this}if(typeof f!=="object"){f=this.items().eq(f)}else{if(typeof f.jquery==="undefined"){f=c(f)}}if(f.length===0){if(c.isFunction(j)){j.call(this,false)}return this}this.inTail=false;this._prepare(f);var h=this._position(f),g=this.list().position()[this.lt];if(h===g){if(c.isFunction(j)){j.call(this,false)}return this}var e={};e[this.lt]=h+"px";this._animate(e,d,j);return this},_scrollTail:function(d,g){if(this.animating||!this.tail){if(c.isFunction(g)){g.call(this,false)}return this}var f=this.list().position()[this.lt];if(this.rtl&&this.relative&&!this.vertical){f+=this.list().width()-this.clipping()}if(this.rtl&&!this.vertical){f+=this.tail}else{f-=this.tail}this.inTail=true;var e={};e[this.lt]=f+"px";this._update({target:this._target.next(),fullyvisible:this._fullyvisible.slice(1).add(this._visible.last())});this._animate(e,d,g);return this},_animate:function(f,e,k){k=k||c.noop;if(false===this._trigger("animate")){k.call(this,false);return this}this.animating=true;var j=this.options("animation"),d=c.proxy(function(){this.animating=false;var l=this.list().find("[data-jcarousel-clone]");if(l.length>0){l.remove();this._reload()}this._trigger("animateend");k.call(this,true)},this);var h=typeof j==="object"?c.extend({},j):{duration:j},g=h.complete||c.noop;if(e===false){h.duration=0}else{if(typeof c.fx.speeds[h.duration]!=="undefined"){h.duration=c.fx.speeds[h.duration]}}h.complete=function(){d();g.call(this)};this.move(f,h);return this},_prepare:function(p){var m=this.index(p),o=m,e=this.dimension(p),f=this.clipping(),l=this.vertical?"bottom":(this.rtl?"left":"right"),d=this.options("center"),h={target:p,first:p,last:p,visible:p,fullyvisible:e<=f?p:c()},q,k,g,j;if(d){e/=2;f/=2}if(e<f){while(true){q=this.items().eq(++o);if(q.length===0){if(!this.circular){break}q=this.items().eq(0);if(p.get(0)===q.get(0)){break}k=this._visible.index(q)>=0;if(k){q.after(q.clone(true).attr("data-jcarousel-clone",true))}this.list().append(q);if(!k){var n={};n[this.lt]=this.dimension(q);this.moveBy(n)}this._items=null}j=this.dimension(q);if(j===0){break}e+=j;h.last=q;h.visible=h.visible.add(q);g=a(q.css("margin-"+l));if((e-g)<=f){h.fullyvisible=h.fullyvisible.add(q)}if(e>=f){break}}}if(!this.circular&&!d&&e<f){o=m;while(true){if(--o<0){break}q=this.items().eq(o);if(q.length===0){break}j=this.dimension(q);if(j===0){break}e+=j;h.first=q;h.visible=h.visible.add(q);g=a(q.css("margin-"+l));if((e-g)<=f){h.fullyvisible=h.fullyvisible.add(q)}if(e>=f){break}}}this._update(h);this.tail=0;if(!d&&this.options("wrap")!=="circular"&&this.options("wrap")!=="custom"&&this.index(h.last)===(this.items().length-1)){e-=a(h.last.css("margin-"+l));if(e>f){this.tail=e-f}}return this},_position:function(f){var g=this._first,h=g.position()[this.lt],e=this.options("center"),d=e?(this.clipping()/2)-(this.dimension(g)/2):0;if(this.rtl&&!this.vertical){if(this.relative){h-=this.list().width()-this.dimension(g)}else{h-=this.clipping()-this.dimension(g)}h+=d}else{h-=d}if(!e&&(this.index(f)>this.index(g)||this.inTail)&&this.tail){h=this.rtl&&!this.vertical?h-this.tail:h+this.tail;this.inTail=true}else{this.inTail=false}return -h},_update:function(j){var e=this,g={target:this._target||c(),first:this._first||c(),last:this._last||c(),visible:this._visible||c(),fullyvisible:this._fullyvisible||c()},d=this.index(j.first||g.first)<this.index(g.first),f,h=function(l){var k=[],m=[];j[l].each(function(){if(g[l].index(this)<0){k.push(this)}});g[l].each(function(){if(j[l].index(this)<0){m.push(this)}});if(d){k=k.reverse()}else{m=m.reverse()}e._trigger(l+"in",c(k));e._trigger(l+"out",c(m));e["_"+l]=j[l]};for(f in j){h(f)}return this}})}(jQuery,window));(function(a){a.jcarousel.fn.scrollIntoView=function(j,c,n){var l=a.jCarousel.parseTarget(j),f=this.index(this._fullyvisible.first()),m=this.index(this._fullyvisible.last()),h;if(l.relative){h=l.target<0?Math.max(0,f+l.target):m+l.target}else{h=typeof l.target!=="object"?l.target:this.index(l.target)}if(h<f){return this.scroll(h,c,n)}if(h>=f&&h<=m){if(a.isFunction(n)){n.call(this,false)}return this}var k=this.items(),d=this.clipping(),g=this.vertical?"bottom":(this.rtl?"left":"right"),b=0,o;while(true){o=k.eq(h);if(o.length===0){break}b+=this.dimension(o);if(b>=d){var e=parseFloat(o.css("margin-"+g))||0;if((b-e)!==d){h++}break}if(h<=0){break}h--}return this.scroll(h,c,n)}}(jQuery));(function(a){a.jCarousel.plugin("jcarouselControl",{_options:{target:"+=1",event:"click",method:"scroll"},_active:null,_init:function(){this.onDestroy=a.proxy(function(){this._destroy();this.carousel().one("jcarousel:createend",a.proxy(this._create,this))},this);this.onReload=a.proxy(this._reload,this);this.onEvent=a.proxy(function(b){b.preventDefault();var c=this.options("method");if(a.isFunction(c)){c.call(this)}else{this.carousel().jcarousel(this.options("method"),this.options("target"))}},this)},_create:function(){this.carousel().one("jcarousel:destroy",this.onDestroy).on("jcarousel:reloadend jcarousel:scrollend",this.onReload);this._element.on(this.options("event")+".jcarouselcontrol",this.onEvent);this._reload()},_destroy:function(){this._element.off(".jcarouselcontrol",this.onEvent);this.carousel().off("jcarousel:destroy",this.onDestroy).off("jcarousel:reloadend jcarousel:scrollend",this.onReload)},_reload:function(){var b=a.jCarousel.parseTarget(this.options("target")),e=this.carousel(),d;if(b.relative){d=e.jcarousel(b.target>0?"hasNext":"hasPrev")}else{var c=typeof b.target!=="object"?e.jcarousel("items").eq(b.target):b.target;d=e.jcarousel("target").index(c)>=0}if(this._active!==d){this._trigger(d?"active":"inactive");this._active=d}return this}})}(jQuery));(function(a){a.jCarousel.plugin("jcarouselPagination",{_options:{perPage:null,item:function(b){return'<a href="#'+b+'">'+b+"</a>"},event:"click",method:"scroll"},_carouselItems:null,_pages:{},_items:{},_currentPage:null,_init:function(){this.onDestroy=a.proxy(function(){this._destroy();this.carousel().one("jcarousel:createend",a.proxy(this._create,this))},this);this.onReload=a.proxy(this._reload,this);this.onScroll=a.proxy(this._update,this)},_create:function(){this.carousel().one("jcarousel:destroy",this.onDestroy).on("jcarousel:reloadend",this.onReload).on("jcarousel:scrollend",this.onScroll);this._reload()},_destroy:function(){this._clear();this.carousel().off("jcarousel:destroy",this.onDestroy).off("jcarousel:reloadend",this.onReload).off("jcarousel:scrollend",this.onScroll);this._carouselItems=null},_reload:function(){var h=this.options("perPage");this._pages={};this._items={};if(a.isFunction(h)){h=h.call(this)}if(h==null){this._pages=this._calculatePages()}else{var b=parseInt(h,10)||0,g=this._getCarouselItems(),f=1,d=0,m;while(true){m=g.eq(d++);if(m.length===0){break}if(!this._pages[f]){this._pages[f]=m}else{this._pages[f]=this._pages[f].add(m)}if(d%b===0){f++}}}this._clear();var l=this,k=this.carousel().data("jcarousel"),c=this._element,j=this.options("item"),e=this._getCarouselItems().length;a.each(this._pages,function(p,o){var n=l._items[p]=a(j.call(l,p,o));n.on(l.options("event")+".jcarouselpagination",a.proxy(function(){var s=o.eq(0);if(k.circular){var q=k.index(k.target()),r=k.index(s);if(parseFloat(p)>parseFloat(l._currentPage)){if(r<q){s="+="+(e-q+r)}}else{if(r>q){s="-="+(q+(e-r))}}}k[this.options("method")](s)},l));c.append(n)});this._update()},_update:function(){var c=this.carousel().jcarousel("target"),b;a.each(this._pages,function(e,d){d.each(function(){if(c.is(this)){b=e;return false}});if(b){return false}});if(this._currentPage!==b){this._trigger("inactive",this._items[this._currentPage]);this._trigger("active",this._items[b])}this._currentPage=b},items:function(){return this._items},reloadCarouselItems:function(){this._carouselItems=null;return this},_clear:function(){this._element.empty();this._currentPage=null},_calculatePages:function(){var j=this.carousel().data("jcarousel"),e=this._getCarouselItems(),f=j.clipping(),d=0,c=0,g=1,b={},h;while(true){h=e.eq(c++);if(h.length===0){break}if(!b[g]){b[g]=h}else{b[g]=b[g].add(h)}d+=j.dimension(h);if(d>=f){g++;d=0}}return b},_getCarouselItems:function(){if(!this._carouselItems){this._carouselItems=this.carousel().jcarousel("items")}return this._carouselItems}})}(jQuery));(function(a){a.fn.swipe=function(c){if(!this){return false}var l={fingers:1,threshold:75,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,click:null,triggerOnTouchEnd:true,allowPageScroll:"auto"};var n="left";var m="right";var d="up";var t="down";var k="none";var v="horizontal";var r="vertical";var p="auto";var f="start";var j="move";var h="end";var o="cancel";var u="ontouchstart" in window,b=u?"touchstart":"mousedown",q=u?"touchmove":"mousemove",g=u?"touchend":"mouseup",s="touchcancel";var e="start";if(c.allowPageScroll==undefined&&(c.swipe!=undefined||c.swipeStatus!=undefined)){c.allowPageScroll=k}if(c){a.extend(l,c)}return this.each(function(){var E=this;var I=a(this);var F=null;var J=0;var y={x:0,y:0};var B={x:0,y:0};var L={x:0,y:0};function A(O){var N=u?O.touches[0]:O;e=f;if(u){J=O.touches.length}distance=0;direction=null;if(J==l.fingers||!u){y.x=B.x=N.pageX;y.y=B.y=N.pageY;if(l.swipeStatus){z(O,e)}}else{D(O)}E.addEventListener(q,K,false);E.addEventListener(g,M,false)}function K(O){if(e==h||e==o){return}var N=u?O.touches[0]:O;B.x=N.pageX;B.y=N.pageY;direction=w();if(u){J=O.touches.length}e=j;H(O,direction);if(J==l.fingers||!u){distance=C();if(l.swipeStatus){z(O,e,direction,distance)}if(!l.triggerOnTouchEnd){if(distance>=l.threshold){e=h;z(O,e);D(O)}}}else{e=o;z(O,e);D(O)}}function M(N){N.preventDefault();distance=C();direction=w();if(l.triggerOnTouchEnd){e=h;if((J==l.fingers||!u)&&B.x!=0){if(distance>=l.threshold){z(N,e);D(N)}else{e=o;z(N,e);D(N)}}else{e=o;z(N,e);D(N)}}else{if(e==j){e=o;z(N,e);D(N)}}E.removeEventListener(q,K,false);E.removeEventListener(g,M,false)}function D(N){J=0;y.x=0;y.y=0;B.x=0;B.y=0;L.x=0;L.y=0}function z(O,N){if(l.swipeStatus){l.swipeStatus.call(I,O,N,direction||null,distance||0)}if(N==o){if(l.click&&(J==1||!u)&&(isNaN(distance)||distance==0)){l.click.call(I,O,O.target)}}if(N==h){if(l.swipe){l.swipe.call(I,O,direction,distance)}switch(direction){case n:if(l.swipeLeft){l.swipeLeft.call(I,O,direction,distance)}break;case m:if(l.swipeRight){l.swipeRight.call(I,O,direction,distance)}break;case d:if(l.swipeUp){l.swipeUp.call(I,O,direction,distance)}break;case t:if(l.swipeDown){l.swipeDown.call(I,O,direction,distance)}break}}}function H(N,O){if(l.allowPageScroll==k){N.preventDefault()}else{var P=l.allowPageScroll==p;switch(O){case n:if((l.swipeLeft&&P)||(!P&&l.allowPageScroll!=v)){N.preventDefault()}break;case m:if((l.swipeRight&&P)||(!P&&l.allowPageScroll!=v)){N.preventDefault()}break;case d:if((l.swipeUp&&P)||(!P&&l.allowPageScroll!=r)){N.preventDefault()}break;case t:if((l.swipeDown&&P)||(!P&&l.allowPageScroll!=r)){N.preventDefault()}break}}}function C(){return Math.round(Math.sqrt(Math.pow(B.x-y.x,2)+Math.pow(B.y-y.y,2)))}function x(){var Q=y.x-B.x;var P=B.y-y.y;var N=Math.atan2(P,Q);var O=Math.round(N*180/Math.PI);if(O<0){O=360-Math.abs(O)}return O}function w(){var N=x();if((N<=45)&&(N>=0)){return n}else{if((N<=360)&&(N>=315)){return n}else{if((N>=135)&&(N<=225)){return m}else{if((N>45)&&(N<135)){return t}else{return d}}}}}try{this.addEventListener(b,A,false);this.addEventListener(s,D)}catch(G){}})}})(jQuery);
/*!
 * meCarousel - aboutme original
 */
var handleKey=function(b,a){if(!b.keyCode){return}switch(b.keyCode){case 37:a.jcarousel("scroll","-=1");break;case 39:a.jcarousel("scroll","+=1");break}};$.fn.meCarousel=function(c){var d={items_num:6,type:"photo",thumb_alt_text:"Photo thumbnail",main_alt_text:"Photo",width:83,main_width:580,video_width:580,video_height:360,nav_type:"original",wrap:true};if(typeof c==="object"){var c=$.extend(d,c)}switch(c.items_num){case 3:c.width=166;c.items_height=c.items_height||120;break;case 4:c.width=125;c.items_height=c.items_height||75;break;case 6:c.width=83;c.items_height=c.items_height||71;break;case 8:c.width=62;c.items_height=c.items_height||46;break;default:break}var a={insert:function(p){p.element="#"+this.id;var k=this;var x=[];var g=[];switch(p.type){case"multi-photo":p.main_element="#"+k.id+"_main";for(i=0;i<p.items.length;i=i+1){var v=["carousel-item"];if(i==0){v.push("active")}if(i<p.items_num){v.push("visible")}else{v.push("notVisible")}var n="";var l="";var s=p.items[i].main_html||"";if(p.items[i].url){n='<a href="'+p.items[i].url+'" target="_blank">';l="</a>"}x.push('<li class="carousel-item"><table class="valign"><tr><td class="valign-inside">'+n+'<img src="//about.me/images/blank.gif" data-src="'+p.items[i].main_image+'" alt="'+p.main_alt_text+'" class="the-photo" />'+l+"</td></tr></table>"+s+"</li>");g.push('<li class="'+v.join(" ")+'"><div class="img-container" style="height:'+p.items_height+"px;line-height:"+p.items_height+'px"><img src="//about.me/images/blank.gif" data-src="'+p.items[i].thumb_image+'" alt="'+p.thumb_alt_text+'" /></div></li>')}break;case"quickview":c.items_height=c.items_height||70;p.main_element="#"+k.id+"_main";for(i=0;i<p.items.length;i=i+1){var v=["carousel-item"];if(i==p.active){v.push("active")}if(i<p.items_num){v.push("visible")}else{v.push("notVisible")}x.push('<li class="carousel-item"><div class="qv-thumb km-userlink"></div><div class="qv-data">'+p.items[i].content+"</div></li>");g.push('<li class="'+v.join(" ")+'"><div class="qv-thumb"></div></li>')}break;case"photo":for(i=0;i<p.items.length;i=i+1){var v=["carousel-item"];if(p.items[i].thumb_image==p.active){v.push("active")}if(p.items_class){v=v.concat(p.items_class.split(" "))}var y=p.items[i].thumb_image;var r="";if(p.background){r+='<div class="bg-thumb" data-url="'+p.items[i].thumb_image+'"></div>';y="//about.me/images/blank.gif"}var n="";var l="";if(p.items[i].url){n='<a href="'+p.items[i].url+'" target="_blank">';l="</a>"}var w="";if(p.items[i].pattern_name){w=' data-pattern-name="'+p.items[i].pattern_name+'"'}g.push('<li class="'+v.join(" ")+'"'+w+" data-thumb-url="+p.items[i].thumb_image+">"+n+'<div class="img-container" style="height:'+p.items_height+"px;line-height:"+p.items_height+'px">'+r+'<img src="//about.me/images/blank.gif" data-src="'+y+'" alt="'+p.thumb_alt_text+'" class="item" /></div>'+l+'<span class="checkmark" /></li>')}break;case"video":p.main_element="#"+k.id+"_main";for(i=0;i<p.items.length;i=i+1){var v=["carousel-item"];if(i==0){v.push("active")}if(i<p.items_num){v.push("visible")}else{v.push("notVisible")}var e='<li class="carousel-item"><img src="//about.me/images/blank.gif"';if(p.video_alt){e+=' title="'+p.video_alt_text+'"'}e+=' class="video-player" width="'+p.video_width+'" height="'+p.video_height+'" data-src="'+p.items[i]["video_src"]+'" />';if(p.items[i]["video_title"]){e+=' <div class="video-main-descrip"><h3>'+p.items[i]["video_title"]+"</h3>"}e+="<p>";if(p.items[i]["uploaded_by"]){e+=" by ";if(p.items[i]["uploaded_by_url"]){e+='<a href="'+p.items[i]["uploaded_by_url"]+'">'}e+=p.items[i]["uploaded_by"];if(p.items[i]["uploaded_by_url"]){e+="</a>"}}if(p.items[i]["datestamp"]){e+=" : "+p.items[i]["datestamp"]}if(p.items[i]["total_views"]){e+=" : "+p.items[i]["total_views"]+" views"}e+="</p></div></li>";x.push(e);var h="";h+='<li class="'+v.join(" ")+'"><div class="img-container" style="height:'+p.items_height+"px;line-height:"+p.items_height+'px"><img src="//about.me/images/blank.gif" data-src="'+p.items[i]["thumb_src"]+'" alt="'+p.thumb_alt_text+'"  style="height:'+p.items_height+'px"/></div>';if(p.items[i]["video_title"]){h+='<span class="title">'+p.items[i]["video_title"]+"</span>"}if(p.items[i]["uploaded_by"]){h+='<br /><span class="author">by ';if(p.items[i]["uploaded_by_url"]){h+='<a href="'+p.items[i]["uploaded_by_url"]+'">'}h+=p.items[i]["uploaded_by"];if(p.items[i]["uploaded_by_url"]){h+="</a></span>"}}h+="</li>";g.push(h)}break;case"bgSaved":p.items_class=p.items_class||"";for(i=0;i<p.items.length;i=i+1){var v=["carousel-item"];if(p.active==p.items[i][1]){v.push("active")}var m='<li class="'+v.join(" ")+'"><a href="#" data-value="'+p.items[i][1]+'" class="'+p.items_class+'"><img src="//about.me/images/blank.gif" data-src="'+p.items[i][0]+'" /></a>';if(p.items[i][2]||p.items[i][3]){m+='<span class="background-sig">';if(p.items[i][5]&&p.items[i][2]){m+='<a href="'+p.items[i][5]+'">'+p.items[i][2]+"</a><br />"}else{if(!p.items[i][5]&&p.items[i][2]){m+=p.items[i][2]+"<br />"}}if(p.items[i][3]){m+='by <a href="'+p.items[i][4]+'">'+p.items[i][3]+"</a>"}m+="</span>"}m+='<span class="bgthumbaction remove-thumb glyph-close glyph-center" title="Delete this image">&nbsp;</span>';if(!p.items[i][2]&&!p.items[i][3]){m+='<a href="'+p.items[i][1]+'" class="bgthumbaction saved-download glyph-download glyph-center" target="_blank" download title="Download this image"></a>'}m+='<span class="checkmark" /></li>';g.push(m)}break;case"multiRow":p.items_class=p.items_class||"";var o=1,j=0;for(i=0;i<p.items.length;i=i+1){var m="",u="";if(o==1){m+='<li class="carousel-item page"><ul>';j++}if((i+1)%(p.items_num/p.rows_num)==0){u="last-thumb-in-row"}m+='<li class="carousel-item '+u+'" style="background-image:url('+p.items[i][0]+');">';m+='<a href="#" data-value="'+p.items[i][1]+'" class="'+p.items_class+'"><img src="//about.me/images/blank.gif" data-src="//about.me/images/blank.gif" /></a>';m+="</li>";if(o==p.items_num){o=0;m+="</ul></li>"}g.push(m);o++}p.items_num=1;break;case"bgCustom":p.items_class=p.items_class||"";for(i=0;i<p.items.length;i=i+1){var m='<li class="carousel-item"><a href="#" data-value="'+p.items[i][1]+'" class="'+p.items_class+'"><img src="//about.me/images/blank.gif" data-src="'+p.items[i][0]+'" /></a>';if(p.items[i][5]||p.items[i][2]||p.items[i][3]){m+='<span class="background-sig">';if(p.items[i][5]){m+='<a href="'+p.items[i][5]+'">'+p.items[i][2]+"</a><br />"}else{if(p.items[i][2]){m+=p.items[i][2]+"<br />"}}if(p.items[i][3]){m+='by <a href="'+p.items[i][4]+'">'+p.items[i][3]+"</a>"}m+="</span>"}m+="</li>";g.push(m)}break;case"facebook_friends":for(i=0;i<p.items.length;i=i+1){var v=["carousel-item"];if(i<p.items_num){v.push("visible")}else{v.push("notVisible")}g.push('<li class="'+v.join(" ")+'"><a href="http://www.facebook.com/profile.php?id='+p.items[i].id+'"><div class="img-container" style="height:'+p.items_height+"px;line-height:"+p.items_height+'px"><img src="//about.me/images/blank.gif" data-src="http://graph.facebook.com/'+p.items[i].id+'/picture" alt="Facebook profile thumb" class="item" /><span class="friend_caption">'+p.items[i].name+'<img src="http://about.me/images/icons/friends_down_arrow.png" alt="" /></span></div></a></li>')}$(p.element).find("a").hover(function(){var A=($(this).find(".friend_caption").width()/2)+7;var z=$(this).find("img:eq(0)").offset();$(this).find(".friend_caption").clone().appendTo("body").addClass("bodied").css({display:"block",marginLeft:"-"+A+"px",top:z.top+"px",left:(z.left+25)+"px"})},function(){$(".friend_caption.bodied").remove()});break;case"facebookpage_videos":p.main_element="#"+k.id+"_main";for(i=0;i<p.items.length;i=i+1){var v=["carousel-item"];if(i==0){v.push("active")}if(i<p.items_num){v.push("visible")}else{v.push("notVisible")}x.push('<li class="carousel-item"><table class="valign"><tr><td class="valign-inside"><img src="//about.me/images/blank.gif" title="Facebook video player" class="facebook-player video-player video-player-flash" width="580" height="360" data-src="'+p.items[i].player_html+'" /></td></tr></table><div class="video-main-descrip"><h3>'+p.items[i].video_title+"</h3><p>by "+p.items[i].uploaded_by+' : <a href="http://www.facebook.com/video/video.php?v='+p.items[i].id+'">'+p.items[i].datestamp+"</a></p></div></li>");g.push('<li class="'+v.join(" ")+'"><div class="img-container" style="height:'+p.items_height+"px;line-height:"+p.items_height+'px"><img src="//about.me/images/blank.gif" data-src="'+p.items[i].thumb_src+'" alt="Facebook video thumb" style="height:'+p.items_height+'px" /></div><br /><span class="title">'+p.items[i].video_title+'</span><br /><span class="author">by <a href="http://www.facebook.com/video/video.php?v='+p.items[i].id+'">'+p.items[i].uploaded_by+"</a></span></li>")}break}if(p.main_element){$(p.element).before('<div class="carousel size1 clearfix"><ul id="'+k.id+'_main" class="carousel_main_photo"></ul></div><hr />')}var f=(p.main_element)?" thumbs":"";if(c.wrap){$(p.element).wrap('<div class="section carousel size'+p.items_num+f+' clearfix" />');$(p.element).closest(".section.carousel").css({"line-height":(p.items_height+2)+"px"})}if(x.length>0){x=x.join("");$(p.main_element).empty().append(x);$(p.main_element).find("li").addClass("loading");$("#"+k.id+"_prev_photo").remove();$("#"+k.id+"_next_photo").remove();if(p.type=="quickview"){$(p.main_element).after('<span class="quickview-next main-button main-button-left inactive glyph-angle-thin-left glyph-center" id="'+k.id+'_prev_photo">&nbsp;</span>','<span class="quickview-next main-button main-button-right inactive glyph-angle-thin-right glyph-center" id="'+k.id+'_next_photo">&nbsp;</span>')}else{$(p.main_element).after('<span class="button dark main-button main-button-left inactive glyph-angle-left" id="'+k.id+'_prev_photo">Prev</span>','<span class="button dark main-button main-button-right inactive glyph-angle-right-after" id="'+k.id+'_next_photo">Next</span>')}}if(g.length>0){g=g.join("");$(p.element).empty().append(g);$(p.element).find("li").addClass("loading")}switch(c.nav_type){case"bar":var q=k.id+"-bar";var t='<div class="nav buttonbar '+q+'">';t+='<span class="button small first disabled glyph-angle-left glyph-center" id="'+k.id+'_prev_photo_thumb">&nbsp;</span>';t+='<span class="button small last disabled glyph-angle-right glyph-center" id="'+k.id+'_next_photo_thumb">&nbsp;</span>';t+="</div>";$("."+q).remove();$(p.element).before(t);break;default:$("#"+k.id+"_prev_photo_thumb").remove();$("#"+k.id+"_next_photo_thumb").remove();$(p.element).before('<span class="button carousel-button prev inactive glyph-angle-left glyph-center" id="'+k.id+'_prev_photo_thumb">&nbsp;</span>').before('<span class="button carousel-button next inactive glyph-angle-right glyph-center" id="'+k.id+'_next_photo_thumb">&nbsp;</span>')}a.mainNavButtons.call(k,p);a.pagination.call(k,p);if(window.AboutMe&&AboutMe.on){AboutMe.on("viewport:small viewport:not:small",function(z){a.mainNavButtons.call(k,p);a.pagination.call(k,p)})}else{$(window).on("viewport_mobile viewport_desktop",function(z){a.mainNavButtons.call(k,p);a.pagination.call(k,p)})}},pagination:function(n,j){if(!$("html").hasClass("viewport-small")){n.element="#"+this.id;if(!$(n.element).hasClass("wrapped")){$(n.element).addClass("wrapped").wrap('<div class="jcarousel" id="'+this.id+'-carousel" style="position:relative;height:'+n.items_height+'px;" />')}var m=$(n.element).children().size()*$(n.element).children().first().outerWidth(true);$(n.element).width(m).css({width:m,position:"absolute"});n.prev="#"+this.id+"_prev_photo_thumb";n.next="#"+this.id+"_next_photo_thumb";n.main_prev="#"+this.id+"_prev_photo";n.main_next="#"+this.id+"_next_photo";n.carousel="#"+this.id+"-carousel";$(n.element).closest(".carousel").disableSelection();n.repage=function(){if(n.nav_type=="bar"){$(n.numberbar).hide();$(n.numberbar).find(".button").hide();var q=$(n.element).find(".visible.pagestart").attr("data-page");$(n.numberbar).find(".button").eq(q).addClass("active").siblings().removeClass("active");var r=5;var t=$(n.numberbar).find(".button.active").index(),s=$(n.numberbar).find(".button").last().index();if(s+1>r){if(t<=r-3){t=r-3}else{if(t>s-2){t=s-2}}$(n.numberbar).find(".button").slice(t-2,t+3).show()}else{$(n.numberbar).find(".button").show()}$(n.numberbar).show()}};var g=function(){if($(n.element).is(":visible")){if(n.count!=$(n.element).children().size()){n.count=$(n.element).children().size();var q=$(n.element).children().size()*$(n.element).children().first().outerWidth(true);$(n.element).width(q).css({width:q})}var r=n.items_height;$(n.element).children().each(function(){var t=$(this).outerHeight(true);r=Math.max(t,r)});$(n.carousel).height(r);$(n.element).children().removeAttr("data-page").removeClass("pagestart");var s=0;$(n.element).children().each(function(t,u){if(t%n.items_num===0){$(this).attr("data-page",s);$(this).addClass("pagestart");s++}});$(n.carousel).jcarousel("reload");return false}setTimeout(g,100)};var o=$(n.carousel).on("jcarousel:create",function(){$(n.element).find("li").on("jcarousel:visiblein",function(){$(this).addClass("visible");if($(this).find("li").size()==0){a.displayItem($(this))}else{$(this).find("li").each(function(){a.displayItem($(this))})}});$(n.element).find("li").on("jcarousel:visibleout",function(){$(this).removeClass("visible")})}).on("jcarousel:scrollend",function(){n.repage()}).on("jcarousel:reloadend",function(){if(n.autoScroll==null){n.autoScroll=true}if(n.autoScroll){if(n.type=="quickview"){var s=$(n.element).find("li.carousel-item:nth("+n.active+")");var r=n.active;if(!s.hasClass("pagestart")){r=s.prevAll(".pagestart").first().index()}r=Math.max(r,0);$(this).jcarousel("scroll",r,false);$(n.main_carousel).jcarousel("scroll",n.active,false)}else{n.active=j||0;var s=$(n.element).find(".active"),q=s.index();n.active=(q==-1)?n.active:q;var r=n.active;if(!s.hasClass("pagestart")){r=s.prevAll(".pagestart").first().index()}r=Math.max(r,0);$(this).jcarousel("scroll",r,false)}}}).on("refresh",function(r,q){if(q==null){q=true}n.autoScroll=q;$(n.element).find("li").on("jcarousel:visiblein",function(){$(this).addClass("visible");a.displayItem($(this))});$(n.element).find("li").on("jcarousel:visibleout",function(){$(this).removeClass("visible")});setTimeout(g,100)}).jcarousel();$(n.carousel).trigger("refresh");if(n.nav_type=="bar"){n.bar="."+this.id+"-bar";n.numberbar="."+this.id+"-numberbar";$(n.bar).find(".numberbar").remove();$(n.prev).after('<span class="buttonbar numberbar '+this.id+'-numberbar" />');$(n.numberbar).on("jcarouselpagination:createend jcarouselpagination:reloadend",function(){n.repage()}).on("jcarouselpagination:active",".button",function(){n.repage()}).on("jcarouselpagination:inactive",".button",function(){n.repage()}).addClass("jcarousel-pagination").jcarouselPagination({perPage:n.items_num,item:function(r,q){var s='<span class="button small number number-'+r+'">'+r+"</span>";return s},carousel:o})}$(n.prev+","+n.next).on("jcarouselcontrol:active",function(){$(this).removeClass("inactive disabled")}).on("jcarouselcontrol:inactive",function(r,q){$(this).addClass("inactive disabled")});$(n.prev).addClass("jcarousel-control").jcarouselControl({target:"-="+n.items_num,carousel:o});$(n.next).addClass("jcarousel-control").jcarouselControl({target:"+="+n.items_num,carousel:o});if("ontouchstart" in document.documentElement){$(n.element).swipe({swipeLeft:function(){$(n.next).click()},swipeRight:function(){$(n.prev).click()},allowPageScroll:"vertical"})}if(n.main_element){if(!$(n.main_element).hasClass("wrapped")){$(n.main_element).addClass("wrapped").wrap('<div class="jcarousel" id="'+this.id+'_main-carousel" style="position:relative;height:364px;" />')}var m=$(n.main_element).children().size()*$(n.main_element).children().first().outerWidth(true);$(n.main_element).width(m).css({width:m,position:"absolute"});n.main_carousel="#"+this.id+"_main-carousel";var k=n.items_height;$(n.main_element).children().each(function(){var q=$(this).outerHeight(true);k=Math.max(q,k)});$(n.main_carousel).height(k);var e=$(n.main_element+"-carousel");e.on("jcarousel:create",function(){$(this).find("li").on("jcarousel:visiblein",function(r,q){a.displayItem($(this))})}).on("jcarousel:createend",function(){var q=e.attr("id")+e.attr("class");q.replace(/ /g,"_");e.on("mouseover",function(){$(window).on("keydown."+q,function(r){handleKey(r,e)})});e.on("mouseout",function(){$(window).off("keydown."+q)})}).on("refresh",function(){setTimeout(function(){if($(n.element).is(":visible")){var q=n.items_height;$(n.main_element).children().each(function(){var r=$(this).outerHeight(true);q=Math.max(r,q)});$(n.main_carousel).height(q);return false}return true},100)}).jcarousel();var p=function(){if(n.type!="quickview"){var r=[".carousel-item",".valign",".valign-inside iframe",".valign-inside embed",".valign-inside object"];var q=$(window).width(),s=e.find(".carousel-item").length;e.find(r.join(",")).removeAttr("width").width(q);$(n.main_element).width(q*s);$(n.main_element).trigger("refresh")}};p();$(window).on("resize orientationchange",function(){setTimeout(function(){p()},300)});$(n.main_prev).on("jcarouselcontrol:active",function(){$(this).removeClass("inactive disabled");if(n.hover){$(this).show()}}).on("jcarouselcontrol:inactive",function(){$(this).addClass("inactive disabled")}).addClass("jcarousel-control").jcarouselControl({target:"-=1",carousel:e});$(n.main_next).on("jcarouselcontrol:active",function(){$(this).removeClass("inactive disabled");if(n.hover){$(this).show()}}).on("jcarouselcontrol:inactive",function(){$(this).addClass("inactive disabled")}).addClass("jcarousel-control").jcarouselControl({target:"+=1",carousel:e});$(n.main_carousel+","+n.main_next+","+n.main_prev).disableSelection();if("ontouchstart" in document.documentElement){$(n.main_element).swipe({swipeLeft:function(){$(n.main_next).click()},swipeRight:function(){$(n.main_prev).click()},allowPageScroll:"vertical"})}var l=function(r,q){return q.jcarousel("items").eq(r.index())};o.jcarousel("items").each(function(){var q=$(this);var r=l(q,e);q.on("jcarouselcontrol:active",function(){o.jcarousel("scrollIntoView",this);q.addClass("active")}).on("jcarouselcontrol:inactive",function(){q.removeClass("active");if(n.type=="video"){a.stopPlayback(r)}}).addClass("jcarousel-control").jcarouselControl({target:r,carousel:e})})}}else{var h=n.main_element||n.element;$(h+" li:lt(3)").each(function(r,q){a.displayItem($(this))});var f=function(q){$(h+" li:gt(1)").each(function(s,r){var w=(q===true)?0:Me.parent.scroll||0,u=$(this).offset().top,t=1200;if((u>(w-t))&&(u<(w+t))&&$(this).hasClass("loading")){a.displayItem($(this))}})};f(true);$("body").on("lazyloadScroll",f)}},mainNavButtons:function(e){e.hover=false;if(!$("html").hasClass("viewport-small")&&!("ontouchstart" in document.documentElement)){$("body").on("mouseover mouseout",".carousel.size1",function(f){if(f.type=="mouseover"){$(this).find("span.main-button:not(.inactive)").show();e.hover=true}else{$(this).find("span.main-button:not(.inactive)").hide();e.hover=false}})}},displayItem:function(h){var j=h.get(0);if(j&&(j.tagName=="IMG")){var f=h.attr("data-src");if(f&&!h.hasClass("loaded")){h.attr("src",f).removeAttr("data-src").addClass("loaded");h.error(function(){h.hide().parent().append('<p class="no-image">Image not available.</p>')}).attr("src",f).addClass("loaded")}}else{if(j&&j.tagName!="IMG"){var g=h.find("img");g.each(function(p,t){var l=$(this).attr("data-src");if(l&&$(this).hasClass("video-player")){var m=$(this).attr("width");var s=$(this).attr("height");if($(this).hasClass("video-player-flash")){l=$(this).attr("data-src");$(this).replaceWith(l);var n=h.find("iframe");if(n.length){var k=parseInt(n.attr("height"))/parseInt(n.attr("width")),x=h.width(),q=Math.min(x*k,360);h.find("iframe").attr("width",x).attr("height",q)}var u=false;try{var v=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");if(v){u=true}}catch(t){if(navigator.mimeTypes["application/x-shockwave-flash"]!=undefined){u=true}}if(!u){$("html").addClass("no-flash")}h.removeClass("loading")}else{$(this).replaceWith('<iframe class="loaded" src="'+l+'" frameborder="0" type="text/html" width="'+m+'" height="'+s+'"></iframe>');$(this).removeClass("loading");h.removeClass("loading")}}else{if(l){var o=$(this).not(".loaded");o.error(function(){o.hide().parent().append('<p class="no-image">Image not available.</p>')}).attr("src",l).addClass("loaded");o.removeClass("loading");h.removeClass("loading")}}});var e=h.find(".bg-thumb");if(e.size()>0){e.css({backgroundImage:"url("+e.attr("data-url")+")"})}}}},stopPlayback:function(h){if(h){var f=h.find("iframe");var j=f.attr("src");f.removeAttr("src").attr("src",j);var e=h.find("object");var g=e.parent();e.remove();g.append(e)}else{$(".aboutmeapp iframe").each(function(k,l){var l=$(l);var m=l.attr("src");l.removeAttr("src").attr("src",m)});$(".aboutmeapp object").each(function(k,l){var l=$(l);var m=l.parent();l.remove();m.append(l)})}}};var b=arguments;return this.each(function(){if(a[c]){a[c].apply(this,Array.prototype.slice.call(b,1))}else{if(typeof c==="object"||!c){a.insert.apply(this,b)}}})};